
خوب وقتی که میزنیم روی propetties دیتابیس 
![[{7E7F262E-2159-4DA6-896F-EC52F4544B5F}.png]]

این اطلاعات رو بهمون نشون میده 

![[{4995D258-7914-45DB-A498-3A5C87D05DFC}.png]]

حالا وقتل که میخوایم یه دیتابیس جدید بسازیم ، اینجا collation رو زده default ولی ما ممکنه ندونیم که default این دیتابیس چیه برای همین قبل از این که بخوایم کاری کنیم توی دیتاببس اولش بریم از توی همخون صفحه اول properties  ببینیم که collation اش چیه ، چون که این default ای که اینجا هست میاد از اون ارث بری میکنه 

اگر بخوایم چیزی غیر از اون دیفالته باشه میزنیم روش و تغییرش میدیم به طور مثال اگر خواستیم که این دیتابیس جدید اطلاغات هندی ذخیره کنیم 

اگر موقع ساخت collation رو اشتباه انتخاب کنیم بعدش دیگه خیلی سخت میشه درستش کرد 

![[{430F2FC3-F029-481E-8C01-1DDBDE3A11B6}.png]]



![[{F8CC8963-1ED6-4C6E-9561-FA49B4BACD29}.png]]
https://sqlconjuror.com/tag/recovery-models/

![[{A7293F15-7B15-4E7E-9743-3DC606CD8AAE}.png]]

https://www.sqlmvp.org/explore-recovery-models-in-sql-server-with-examples/

 توی حالت full میاد از اول هر اتفاقی که توی دیتا بیس افتاده رو در خودش ذخیره میکنه و اگر فایل  ldf حجمش تموم بشه با مکانیزم auto grow میاد حجمش رو زیاد میکنه 

اگر simple باشه هیچوقت log file بزرگ نمیشه همیشه به همون اندازه که همون اول بهش اختصاص دادیم باقی میمونه، هر وقت که تموم بشه فضا میاد از اول روش re write میکنه اطلاعات بعدی رو 

در سیستم های خیلی بزرگ به علت این که حتی زمان برای ریکاوری نداریم و فرصتش رو نداریم از full استفاده نمیشه به جاش از یه مکگانیزیمی به نام mirroring استفاده میشه 

نکته : ما در زمان ساخت دیتابیس وقتی میایم COALLATION رو تعیین میکنیم به این معنیه که همیشه زبون اول انگلیسی هستش و ما در حقیقت با انتاخاب COALLTAION زبان دوم رو داریم انتخاب میکنیم برای ذخیره سازی در دیتابیس 

![[{E23FC301-D628-48DE-B50C-19C498AF64BD}.png]]

ما میتونیم دیتابیس هایی که ورژن های پایین تر دارن رو ازشون بک آپ بگیریم و ببریم در ورژهای بالاتر ولی برعکسش امکان پذیر نیست 

وقتی که بک آپ ورژن هایی پایین تر رو اوردیم داخل ورژن های بالاتر اینجا میایم و compability اش رو تتغییر میدیم به همون ورژن بالاتر و اینطوری خودش میاید تبدیل دیتابیس قدیمی رو به جدید انجام میده 

بعضی از مواقع که مثلا برنامه نوشته شده که با ورژن های قدیمی تر compatible هستش دیگه نمیاریم روی ورژن های جدید تر و فقط انتقالش دادیم به engine جدید ولی دیگه ورژنش رو تغییر نمیدیم 

برای پاک کردن دیتابیس از این روش استفاده میکنیم :
![[{6CB97552-7A8C-4A3E-9D78-6669F809B3A6}.png]]

دیتابیس رو با فایل ها mdf و ldf و همه چی رو پاک میکنه 

اون تیک connection رو هم بزنیم اول میاد connection رو قطع میکنه و بعد پاکش میکنه 

![[{5480856D-90AC-4A99-8443-819F47F2DAB9}.png]]

معادل کاری که در قسمت بالا انجام میدیم 

اگر بخوایم هم به صورت تستی بیایم Drop رو انجام بدیم بهتره که اول یه محیط transaction درست کنیم و بعد بیایم drop رو انجام بدیم که بعدش اگر خواستیم بتونیم roll back اش کنیم 


![[{9C9BE3F6-23C3-40E5-A63A-81BED45DE04F}.png]]
![[{73C01717-5804-441C-87FD-CFF865D68A93}.png]]

در این دو قسمت بالا میان برای یوزهایی که به دیتابیس ها دسترسی دارن سطوح مجاز دسترسی براشون تعیین میشه 

![[{95796ECF-AD80-48E6-9F9C-19705D9BE3A9}.png]]

بعد از این قسمت نوع permission های مجاز هم براشون تعیین میشه 

جدول ها یک سری اطلاعات مرتبط با هم رو در یک جدول کنار هم قرار میدن و این که خوده جدوال هم میتونن با هم ارتباط داشته باشند 

اینطوری میایم یه جدول درست میکنیم در دیتابیسمون 
![[{A87D4832-4413-4061-8C9E-71DB06C26B00}.png]]

نام گذاری در جدول ها فارسی نباشه و از space به هیچ عنوان  استفاده نشه به جاش از __ استفاده کنیم 

 
![[{FD92979C-CCA9-428C-8EE1-052971BF8848}.png]]

اون علامت سوال به این معنیه که خودمون اونجا تعیین میکنیم که چقدر رو نگه دارن که این مقدار از 1 بایت تا 8000 بایت متغییر هستش و میتونیم از این بین اون مقداری که لازم داریم رو تعیین کنیم 

در دسته بندی اولیه به طور مثال نام و نام خانوادگی و عکس همه در کنار هم در دیتابیش ذخیره میشه ولی در دسته بندی دوم دیگه عکس در کنار اطلاعات دیگه نیستش و عکس به صورت جداگانه در یک قسمت دیگه هارد ذخیره سازی میشه و آدرسش میاد در کنار این اطلاعات قرار میگیره و به همین دلیل در نوع دوم سرعت دسترسی پایین تر هستش 

اگر فایلمون از 2 گیگابایت بیشتر باشه میشه file stream  کلا دیگه توی دیتا بیس ذخیره نمیکنه 

و به همین دلیل وفتی که از دیتابیس میایم بک آپ میگیریم دیگه عکس ها با اون فایل های بک آپ گیری در یک جا نیستند و باید بریم از جای دیگه بیاریمشون 

و این که image هم depricate شده به دلیل پیچیدگی که در ذخیره سازی این مدل از دیتاها در سخت افزار داره 

![[{3914E8EF-77CA-4AEC-B2F3-72A9CF02CF4C}.png]]

اینجا این دیتاتایپ ها از Ascii استفاده میکنن و این یعنی این که از زبان انگلیسی و زبان colattion این دیتا تایپ ها ساپورت میشن 

![[{5A8342CF-D47C-4FA9-BAAD-6A7A4C32EE8B}.png]]

حالا فرق fixed با variable چیه توی اولی که fixed هستش میاد هر چقدر از مثلا 10 که تعیین کردیم فضا مونده باشه اون رو میاد با white space پرش میکنه ولی دومی نه اینطوری نیست 

سرعت دسترسی در بالایی بیشتر هستش چون هر تیکه از داده معلومه که در چه قسمتی قرار داره بعنی این که اولین داده از 0 تا 9 و بعدی از 10 تا 19 و دیتاهای بعدی ولی در نوع دوم چون ممکنه که متغییر باشه باید بره و دیتا رو پیدا کنه و بعد برگردونه 

![[{0B799B20-602B-4FBE-BFB3-FF5509C7D2ED}.png]]

 خوب یه روش استفاده از این دیتاتایپ ها اینه که بیایم به طور مثال شماره ملی رو توش سیو کنیم چون شماره ملی رو در دیتا تیاپ های عددی نمیتونیم سیو کنیم چون صفر قبل از عدد در اون مدل معنی نداره و حذف میشه 

جایی که مطمئن هستیم که عدد همیشه پر میشه مثل شماره کارت ملی یا تلفن

![[{64F9368D-0712-46A5-A788-C26688AD5CB9}.png]]


توی  uni code هر زبانی رو میتونیم ذخیره کنیم 
