این قابلیت به این شکل انجام میشه که میاد دیتایی که از سمت client میاد به سمت سرور رو که به شکل string هستش رو میگیره و میتونه دسته بندی روش انجام بده یا convert اش کنه و اون مدل data type که میخوایم رو بهمون میده 

دقت داشته باشید که model binding میاد و درخواست ما رو میگیره تحلیل میکنه و میگرده و بعد وصلش میکنه به جایی که باید کار کنه 

![[Pasted image 20241207213052.png]]

![[Pasted image 20241207213058.png]]

![[Pasted image 20241207213103.png]]
خوب model binding asp .net میاد در 5 جای مختلف میگرده دنبال دیتای ما 
اگر کاربر دیتا رو به یکی از این مکان ها ارسال کرده باشه اون رو میگیره و میبره توی اون متغییر ها میزاره تا ازشون استفاده کنیم 

![[Pasted image 20241207213115.png]]

خوب اگر درخواستمون get باشه از 1 و 2 استفاده میشه 
اگر post باشه توی 1 و 2 و 3 میگرده 
ولی برای دو مورد آخر باید خودمون بیایم ستاپ کنیم که بره دیتا رو چجوری بخونه و چی کار کنه 

![[Pasted image 20241207213132.png]]

![[Pasted image 20241207213139.png]]

خوب اینجا میبینید که پارامتر name خالی و null هستش ، چرا؟ چون که خوده فریمورک رفته گشته توی اون مورد های 1 و 2 و 3 ولی پیدا نکردتش 
درسته که ما با پستمن دیتا رو داریم توی هدر میفرستیم ولی فریمورک توی هدر رو نگاه نمیکنه و ما باید خودمون براش تعیین کنیم 


![[Pasted image 20241207213151.png]]

ولی اینجا وقتی که با کوئری استرینگ میفرستیم دریافتش میکنه

![[Pasted image 20241207213212.png]]

خوب ما اینجا داریم توی 3 مکان مختلف name رو ارسال میکنیم 
یکی توی route هستش که babei 
یکی توی query string هستس که ehsan 
یکی هم توی header هستش 

![[Pasted image 20241207213236.png]]

![[Pasted image 20241207213242.png]]

اول route چک میشه و اگر پیدا نکرد میره توی query string 
حالا اگر بخوایم دیتا رو از header بخویم میام این کار رو میکنیم :

![[Pasted image 20241207213256.png]]

اینجا باگتو رو دریافت میکنیم 
میتونیم هم برای این که سریع تر پیدا ککنده خوده model binding دات نت اینطوری بنویسیم اینطوری دیگه route چک نمیشه 

![[Pasted image 20241207213309.png]]


خوب در این حالت هر دو نام ها باید با هم یکسان باشند 
ولی اگر قراره متفاوت باشند این کار رو میکنیم  :

![[Pasted image 20241207213330.png]]

اینجا از سمت client با person name میاد و بعد میاد توی full name در سمت بک اند قرار میگیره 

حالا میخوایم طبق چیزهایی که توی این کلاس تعریف شده بیایم و از client دیتا رو بگیریم 

![[Pasted image 20241207213348.png]]

![[Pasted image 20241207213354.png]]

![[Pasted image 20241207213400.png]]

![[Pasted image 20241207213407.png]]



خوب اینجا چرا user id صفر هستش؟ 
دلیلش اینه که وقتی که دیتا رو از سمت client میفرستیم سمت سرور ، توی سرور میاد و اگر نتونه پیداش کنه مقدار دیفالت براش میزاره 

حالا نکته ای که هست اینه که اگر ما بفرستیم ولی نتونه convert اش کنه باز هم مقدار دیفالت براش میزاره 

![[Pasted image 20241207213428.png]]

اینجا به جای این که به user id که از نوع عددی هستش بهش string دادیم و فرستادم و سمت سرور چون نمیتونه که convert اش کنه میاد مقدار دیفالت میزاره که میشه همون صفر 

خوب حالا با استفاده از attribute میتونیم براش مشخص کنیم که کجا بره دنبالش 

![[Pasted image 20241207213443.png]]

اینجوری ارسالش میکنیم 

![[Pasted image 20241207213455.png]]

خوب حالا این رو در نظر بگیرید که client میتونه user و user id رو اگر بتونه خودش بفرسته سمت سرور و بعد بتونه اطلاعات اون رو یوزر رو ویرایش میتونه بکنه که این قابل قبول نیست 
روش برای جلوگیری اینه  که dto های مختلف بنویسیم 

   توی home controller 
خوب حالا این رو در نظر بگیرید که client میتونه user و user id رو اگر بتونه خودش بفرسته سمت سرور و بعد بتونه اطلاعات اون رو یوزر رو ویرایش میتونه بکنه که این قابل قبول نیست 
روش برای جلوگیری اینه  که dto های مختلف بنویسیم 

   توی home controller 
خوب حالا این رو در نظر بگیرید که client میتونه user و user id رو اگر بتونه خودش بفرسته سمت سرور و بعد بتونه اطلاعات اون رو یوزر رو ویرایش میتونه بکنه که این قابل قبول نیست 
روش برای جلوگیری اینه  که dto های مختلف بنویسیم 

   توی home controller 
![[Pasted image 20241207213509.png]]


بعد همونجا میایم و برای اکشنش از اون کلاسی که تعریف کردیم که میاد اطلاعات رو بر اساس UserInfoDto  میگیره 
نکته این که ما اومدیم اینجا اون کلاس رو new کردیم ولی در صورتی که درستش اینه که از di استفاده کنیم 


![[Pasted image 20241207213538.png]]

ولی این کار هایی که در بالا کردیم درست نیست و باید یه dto برای دریافت دیتا از سمت کلاینت درست کنیم یکی برای دریافت اطلاعات در سمت سرور درست کنیم - به این شکل :

![[Pasted image 20241207213552.png]]