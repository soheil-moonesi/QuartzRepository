![[Pasted image 20241211170120.png]]


روش اول convention ها که یه سری قراردارد هستند توی خود ef core که اگر اون ها رو رعایت کنیم کانفیگ ها  به صورت اتوماتیک ساخته میشن

خوب ما توی پروژه مون ممکنه 1000 تا کلاس داشته باشیم ولی در نهایت یک یا تعداد محدودی از کلاس ها تبدیل به دیتا بیس میشن 

خوب این کلاس ها باید یه سری شرایط رو داشته باشن

![[Pasted image 20241211170128.png]]

این از شرایط کلاس یه نکته ای دیگه ای که هست اینه باید توی dbcontext اون رو با dbSet معرفی و تنظیمش کنیم

![[Pasted image 20241211170139.png]]

خوب نکته ای که هست اینه که اگر ما دوتا جدول داشتیم یعنی دو تا کلاس داشتیم که این ها به هم مرتبط هستند دیگه نمیخواد برای دومی هم از dbcontext استفاده کنیم خودش به خاطر relation که داری اون  رو تنظیم میکنه 

به صورت پیش فرض همون اسمی که برای dbset استفاده میکنیم میشه همون اسمی که جدول در دیتابیس داره 


![[Pasted image 20241211170146.png]]

خوب حالا مرحله ی بعدی تبدیل دیتا تیاپ های دات نت به دیتا تایپ های دیتابیس هستش

![[Pasted image 20241211170154.png]]

دقت کنید که تنها فیلیدی که میتونه null باشه دیتا تایپ string هستش

![[Pasted image 20241211170200.png]]
حالا اگر همچین قابلیتی بخوایم برای تایپ های دیگه باید از از nullable استفاده کنیم
خوب حالا بحث primery key هستش که ef core میاد به صورت پیش فرض اون پراپرتی که اسمش Id هستش رو به عنوان primery key در نظر میگیره
یه راه تشخصی دیگه اش هم اینه که از اسم همون کلاس + id استفاده کنیم

![[Pasted image 20241211170209.png]]

و ef core میاد به صورت اتوماتیک این رو primery key  در نظر میگیره 

3 جا هستش که میتونیم مقدار برای primery key تنظیم کنیم 

![[Pasted image 20241211170217.png]]
 اگر بیایم نوع primery key رو عددی قرار بدیم طبق convention های ef core  وظیفه ی دیتا بیس هستش که بیاد id رو generate کنه 
 حالا اگر id رو از نوع guid در نظر بگیریم وظیفه ی  ef core هستش که id رو generate کنه و بفرسته به دیتا بیس که دیتابیس ازش استفاده کنه 
 